'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _ramda=require('ramda'),_ramda2=_interopRequireDefault(_ramda),_http=require('http'),_http2=_interopRequireDefault(_http),_querystring=require('querystring'),_querystring2=_interopRequireDefault(_querystring);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function lastfm(c,d,e,f){var g=_ramda2.default.mapObjIndexed(function(j,k,l){return'&'+k+'='+_querystring2.default.escape(j)}),h=_ramda2.default.compose(_ramda2.default.reduce(function(j,k){return j+k},''),_ramda2.default.values,g),i='http://ws.audioscrobbler.com/2.0/?api_key='+c+'&method='+d+'.'+e+h(f);return new Promise(function(j,k){_http2.default.get(i,function(l){var m='';l.on('data',function(n){m+=n}),l.on('end',function(){j(JSON.parse(m))})}).on('error',function(l){k(l)})})};exports.default=_ramda2.default.curry(lastfm);
